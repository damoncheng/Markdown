#整数阶乘算法

本python脚本，探索有效率的阶乘算法。

	注意：下面测试示例是在mac pro下运行，不同机器性能不同，耗时长度可能会有所不同。
	但是相同配置环境下，后面算法用时一定比前面算法用时短。
	
		测试环境：
		
			CPU :  Intel Core i7
			内存 : 16 GB

查看使用帮助:

	$ python factorial.py --help
		usage: factorial.py [-h] [--method [{simple,dconquer,builtin,bsplit}]]
		                    [--output [OUTPUT]]
		                    N
		
		computer factorial for integer N
		
		positional arguments:
		  N                     an integer for factorial
		
		optional arguments:
		  -h, --help            show this help message and exit
		  --method [{simple,dconquer,builtin,bsplit}]
		                        factorial method, default bsplit
		  --output [OUTPUT]     filename that save output, default no output
	
##简单算法（cpython2采用）

通过普通遍历方式计算整数阶乘:

	$ python factorial.py 1000000 --method simple
	2019-08-24 21:06:42.622863 0.0% - 999999 lefted
	2019-08-24 21:06:43.232716 10.0% - 950000 lefted
	2019-08-24 21:06:48.619654 20.0% - 849999 lefted
	2019-08-24 21:06:59.602494 30.0% - 750000 lefted
	2019-08-24 21:07:16.338291 40.0% - 649999 lefted
	2019-08-24 21:07:39.215893 50.0% - 550000 lefted
	2019-08-24 21:08:08.121045 60.0% - 450000 lefted
	2019-08-24 21:08:43.427476 70.0% - 350000 lefted
	2019-08-24 21:09:26.333976 80.0% - 250000 lefted
	2019-08-24 21:10:14.308072 90.0% - 149999 lefted
	2019-08-24 21:11:12.545360 99.99% - 49999 lefted
	2019-08-24 21:11:45.985510 100.0% - 0 lefted
	time cost:  303.10198s
	no output filename and exit

##分而治之法

通过分而治之的方式，调整操作数组合顺序, 使得操作数位数增长更平缓，且操作数之间的位差更小, 提升运算速度。

### 递归分而治之

通过调整操作数为二叉树状数据结构，由叶子节点开始递归返回乘积, 控制操作数之间的位差和操作数位数的增速.

	$ python factorial.py 1000000 --method drecursion
	2019-08-24 21:12:38.423019 0.0% - 999993 lefted
	2019-08-24 21:12:38.423081 0.01% - 999939 lefted
	2019-08-24 21:12:38.423209 0.02% - 999756 lefted
	2019-08-24 21:12:38.423390 0.05% - 999512 lefted
	2019-08-24 21:12:38.423777 0.1% - 999024 lefted
	2019-08-24 21:12:38.424662 0.2% - 998047 lefted
	2019-08-24 21:12:38.426962 0.39% - 996094 lefted
	2019-08-24 21:12:38.432738 0.78% - 992188 lefted
	2019-08-24 21:12:38.446660 1.56% - 984375 lefted
	2019-08-24 21:12:38.482975 3.13% - 968750 lefted
	2019-08-24 21:12:38.580864 6.25% - 937500 lefted
	2019-08-24 21:12:38.855371 12.5% - 875000 lefted
	2019-08-24 21:12:39.633780 25.0% - 750000 lefted
	2019-08-24 21:12:41.869310 50.0% - 500000 lefted
	2019-08-24 21:12:47.834006 100.0% - 0 lefted
	time cost:    9.40172s
	no output filename and exit

### 循环分而治之

通过循环调整操作数为两个大小相近的集合，一个低位集合，一个高位集合，并将低位集合与高位集合的操作数，进行一一映射进行乘积, 控制操作数之间的位差和操作数位数的增速。

	$ python factorial.py 1000000 --method dconquer
	2019-08-24 21:13:36.545555 0.0% - 1000000 lefted
	2019-08-24 21:13:36.604180 50.0% - 500000 lefted
	2019-08-24 21:13:36.628406 75.0% - 250000 lefted
	2019-08-24 21:13:36.643350 87.5% - 125000 lefted
	2019-08-24 21:13:36.655913 93.75% - 62500 lefted
	2019-08-24 21:13:36.667812 96.88% - 31250 lefted
	2019-08-24 21:13:36.682743 98.44% - 15624 lefted
	2019-08-24 21:13:36.707326 99.22% - 7812 lefted
	2019-08-24 21:13:36.743668 99.61% - 3906 lefted
	2019-08-24 21:13:36.798815 99.8% - 1954 lefted
	2019-08-24 21:13:36.879367 99.9% - 976 lefted
	2019-08-24 21:13:36.996806 99.95% - 488 lefted
	2019-08-24 21:13:37.170813 99.98% - 244 lefted
	2019-08-24 21:13:37.426581 99.99% - 122 lefted
	2019-08-24 21:13:37.822838 99.99% - 62 lefted
	2019-08-24 21:13:38.393612 99.99% - 30 lefted
	2019-08-24 21:13:39.272008 99.99% - 16 lefted
	2019-08-24 21:13:40.619257 99.99% - 8 lefted
	2019-08-24 21:13:42.691741 99.99% - 4 lefted
	2019-08-24 21:13:45.793362 99.99% - 2 lefted
	2019-08-24 21:13:45.793416 100.0% - 0 lefted
	time cost:    9.33408s
	no output filename and exit
	
## binary-split(cpython3.2开始采用)

该算法结合FFT（快速傅立叶变换），减少了乘法次数，降低了阶乘的时间复杂度。 在乘积部分，也通过分而治之方法控制了操作数之间的位差和操作数位数的增速。

	$ python factorial.py 1000000
	2019-08-24 21:14:50.570648 0.0% - 999997 lefted
	2019-08-24 21:14:50.570680 0.0% - 999993 lefted
	2019-08-24 21:14:50.570692 0.0% - 999985 lefted
	2019-08-24 21:14:50.570703 0.0% - 999970 lefted
	2019-08-24 21:14:50.570715 0.01% - 999939 lefted
	2019-08-24 21:14:50.570732 0.01% - 999878 lefted
	2019-08-24 21:14:50.570756 0.02% - 999756 lefted
	2019-08-24 21:14:50.570807 0.05% - 999512 lefted
	2019-08-24 21:14:50.570905 0.1% - 999024 lefted
	2019-08-24 21:14:50.571138 0.2% - 998047 lefted
	2019-08-24 21:14:50.571736 0.39% - 996094 lefted
	2019-08-24 21:14:50.573417 0.78% - 992188 lefted
	2019-08-24 21:14:50.578611 1.56% - 984375 lefted
	2019-08-24 21:14:50.594488 3.13% - 968750 lefted
	2019-08-24 21:14:50.645944 6.25% - 937500 lefted
	2019-08-24 21:14:50.806869 12.5% - 875000 lefted
	2019-08-24 21:14:51.291335 25.0% - 750000 lefted
	2019-08-24 21:14:52.792554 50.0% - 500000 lefted
	2019-08-24 21:14:57.684780 100.0% - 0 lefted
	time cost:    7.10692s
	no output filename and exit
	
